CREATE TABLE Person (
	Id INT IDENTITY(1,1) PRIMARY KEY,
	FirstName NVARCHAR(100) NOT NULL,
	LastName NVARCHAR(100) NOT NULL,
	DateOfBirth DATETIME2 NOT NULL
);

CREATE TABLE Address (
	Id INT IDENTITY(1,1) PRIMARY KEY,
	PersonId INT NOT NULL,
	StreetAddress NVARCHAR(100) NOT NULL,
	City NVARCHAR(100) NOT NULL,
	ZipCode NVARCHAR(20) NOT NULL,
	Country INT NOT NULL,

	CONSTRAINT FK_Address_Person FOREIGN KEY (PersonId)
	REFERENCES Person(Id)
	ON DELETE CASCADE
);

CREATE TABLE Hobby (
	Id INT IDENTITY(1,1) PRIMARY KEY,
	Name VARCHAR(100) NOT NULL
);

CREATE TABLE HobbyInPerson (
    HobbyId INT NOT NULL,
    PersonId INT NOT NULL,
    CONSTRAINT [PK_HobbyInPerson] PRIMARY KEY (HobbyId, PersonId),
    CONSTRAINT [FK_HobbyInPerson_HobbyId] FOREIGN KEY (HobbyId) REFERENCES Hobby(Id) ON DELETE CASCADE,
    CONSTRAINT [FK_HobbyInPerson_PersonId] FOREIGN KEY (PersonId) REFERENCES Person(Id) ON DELETE CASCADE
);